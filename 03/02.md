# 2. 관찰자 패턴

- 관찰자 패턴은 상태 변화가 일어날 때 관찰자에서 통지할 수 있는 객체를 정의하는 것이다.
- 콜백 패턴은 오직 하나의 리스너에게 결과를 전달하는 반편, 관찰자 패턴은 주체가 여러 관찰자에게 통지할 수 있다는 점이 있다.

## 2.1 EventEmitter 클래스

- 관찰자 패턴은 이미 코어에 내장되어 있으며, EventEmitter 클래스를 통해 사용 가능하다.

```js
import { EventEmitter } from  'events'
const emitter = new EventEmitter()
```

- EventEmitter의 필수 메서드는 다음과 같다.
    - on(event, listenter): 주어진 이벤트 유형에 대해 새로운 리스너를 등록한다.
    - once(event, listener): 첫 이벤트가 전달된 후 제거되는 새로운 리스너를 등록한다.
    - emit(event, args...): 새 이벤트를 생성하고 리스너에게 전달한 추가 인자를 제공한다.
    - removeListener(event, listener): 지정된 이벤트 유형에 대한 리스너를 제거한다.
- 모든 메서드는 chaining이 가능하도록 EventEmitter 인스턴스를 반환한다.
- 첫 번째 인자가 꼭 에러일 필요는 없다.

-----
[HOME](./index.md)
